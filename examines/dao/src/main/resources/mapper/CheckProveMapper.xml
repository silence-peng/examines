<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.csdj.examines.dao.CheckProveMapper">
    <select id="getAdviseArr" resultType="String">
        SELECT a.`adviseArr` FROM yxadvisecheckresult a,yxcheckresult b WHERE
        a.`resultId`=b.`resultId` AND b.userId=#{userid} AND b.`sex`=#{sex}
    </select>
    <select id="loadUserInfo" resultType="Userinfo">
        SELECT u.userid,u.fname,u.fage,u.fbirthdate,a.content as address FROM userinfo u,assess a
        WHERE u.userid=a.userid
        <if test="name!=null and name!=''">
        AND (u.fname like concat('%',#{name},'%') or u.mname like concat('%',#{name},'%'))
        </if>
        <if test="startDate!=null and startDate!='' and endDate!=null and endDate!='' ">
        "AND u.createdate between #{startDate} and #{endDate}",
        </if>
    </select>
</mapper>