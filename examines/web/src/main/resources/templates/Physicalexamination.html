<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head lang="en">
    <meta charset="UTF-8">
    <title>体格检查女</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="layui/layui.js" />
    <link rel="stylesheet" href="layui/css/layui.css">
</head>
<body>
<div  class="layui-container" style="width: 90%">
<form class="layui-form" id="form" lay-filter="check" action="">

        <div class="layui-form-item">
            <label class="layui-form-label" >系统编号:</label>
            <div class="layui-input-inline">
                <input type="text" style="width: 300px" name="userid" lay-verify="title" readonly="readonly" autocomplete="off"  class="layui-input">
            </div>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;
            <div class="layui-inline">
                <label class="layui-form-label"  >姓名:</label>
                <div class="layui-input-inline">
                    <input type="text" name="fname" style="width: 300px"  lay-verify="title" readonly="readonly"  autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
        <div class="layui-form-item" >
            <label class="layui-form-label" >性别:</label>
            <div class="layui-input-inline">
                <input type="text" style="width: 300px" th:value="女"  name="sex" id="sex" readonly="readonly" lay-verify="title" autocomplete="off"   class="layui-input">
            </div>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;
            <div class="layui-inline">
                <label class="layui-form-label"  >出生年月:</label>
                <div class="layui-input-inline">
                    <input type="text" name="fbirthdate" style="width: 300px"  lay-verify="date" readonly="readonly"  autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
        <div style="border:  0.8px solid cornflowerblue"><p  style="background-color: rgb(214, 236, 246);font-size: 15px;color: #0074d9;text-align: left">女子一般体格检查</p>
            <div class="layui-form-item">
                <label class="layui-form-label" >身高(CM):</label>
                <div class="layui-input-inline">
                    <input type="text" style="width: 300px" name="height" lay-verify="title" autocomplete="off"  class="layui-input">
                </div>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;
                <div class="layui-inline">
                    <label class="layui-form-label"  style="width: 200px" >体重指数(kg/m2):</label>
                    <div class="layui-input-inline">
                        <input type="text" name="bmi" style="width: 300px"  lay-verify="title"  autocomplete="off" class="layui-input">
                    </div>
                </div>

            </div>
            <div class="layui-form-item">
                <label class="layui-form-label" >体重(kg):</label>
                <div class="layui-input-inline">
                    <input type="text" style="width: 300px" name="weight" lay-verify="title" autocomplete="off"  class="layui-input">
                </div>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;
                <div class="layui-inline">
                    <label class="layui-form-label"  style="width: 200px" >收缩压(mmhg):</label>
                    <div class="layui-input-inline">
                        <input type="text" name="smmhg" style="width: 300px"  lay-verify="title"  autocomplete="off" class="layui-input">
                    </div>
                </div>

            </div>
            <div class="layui-form-item">
                <label class="layui-form-label" >心率(次/分):</label>
                <div class="layui-input-inline">
                    <input type="text" style="width: 300px" name="p" lay-verify="title" autocomplete="off"  class="layui-input">
                </div>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;
                <div class="layui-inline">
                    <label class="layui-form-label"  style="width: 200px" >舒张压(mmhg):</label>
                    <div class="layui-input-inline">
                        <input type="text" name="mmhgs" style="width: 300px"  lay-verify="title"  autocomplete="off" class="layui-input">
                    </div>
                </div>

            </div>

            <br>
        </div>
        <br>
        <div style="border: 0.8px solid cornflowerblue"><p  style="background-color: rgb(214, 236, 246);font-size: 15px;color: #0074d9;text-align: left">精神状态</p>
            <div class="layui-form-item" align="left">
                <div class="layui-input-block">
                    <input type="radio" name="isspirit" id="cb" lay-filter="ishaving" value="1" title="是" >
                    <input type="radio" name="isspirit"  value="0" lay-filter="ishaving" checked title="否" >
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label"  style="width: 200px" >精神状态异常描述:</label>
                    <div class="layui-input-inline">
                        <input type="text" name="spiritcontent" id="jszt" style="width: 300px" disabled lay-verify="title"  autocomplete="off" class="layui-input">
                    </div>
                </div>
            </div>
            <br>
        </div>

    <div style="border: 0.8px solid cornflowerblue"><p  style="background-color: rgb(214, 236, 246);font-size: 15px;color: #0074d9;text-align: left">五官</p>
        <div class="layui-form-item" align="left">
            <div class="layui-input-block">
                <input type="radio" name="isthefive" value="0" lay-filter="iswuguan" checked title="正常" >
                <input type="radio" name="isthefive" value="1" lay-filter="iswuguan" title="异常" >
            </div>
            <div class="layui-inline">
                <label class="layui-form-label"  style="width: 200px" >五官异常描述:</label>
                <div class="layui-input-inline">
                    <input type="text" name="thefivecontent" style="width: 300px"  disabled lay-verify="title"  autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
        <br>
    </div>
    <div style="border: 0.8px solid cornflowerblue"><p  style="background-color: rgb(214, 236, 246);font-size: 15px;color: #0074d9;text-align: left">特殊体态</p>
        <div class="layui-form-item" align="left">
            <div class="layui-input-block">
                <input type="radio" name="isposture" lay-filter="istitai" value="0" checked title="无" >
                <input type="radio" name="isposture" lay-filter="istitai" value="1" title="有" >
            </div>
            <div class="layui-inline">
                <label class="layui-form-label"  style="width: 200px" >特殊体态描述:</label>
                <div class="layui-input-inline">
                    <input type="text" name="posturecontent" style="width: 300px"  lay-verify="title" disabled  autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
        <br>
    </div>
    <div style="border: 0.8px solid cornflowerblue"><p  style="background-color: rgb(214, 236, 246);font-size: 15px;color: #0074d9;text-align: left">特殊面容</p>
        <div class="layui-form-item" align="left">
            <div class="layui-input-block">
                <input type="radio" name="isface" value="0" lay-filter="ismianro" checked  title="无" >
                <input type="radio" name="isface" value="1" lay-filter="ismianro" title="有" >
            </div>
            <div class="layui-inline">
                <label class="layui-form-label"  style="width: 200px" >特殊面容描述:</label>
                <div class="layui-input-inline">
                    <input type="text" name="facecontent" style="width: 300px"  lay-verify="title" disabled  autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
        <br>
    </div>
    <div style="border: 0.8px solid cornflowerblue"><p  style="background-color: rgb(214, 236, 246);font-size: 15px;color: #0074d9;text-align: left">皮肤毛发</p>
        <div class="layui-form-item" align="left">
            <div class="layui-input-block">
                <input type="radio" name="ishair" value="0" lay-filter="ispifu" checked title="正常" >
                <input type="radio" name="ishair" value="1" lay-filter="ispifu"  title="异常" >
            </div>
            <div class="layui-inline">
                <label class="layui-form-label"  style="width: 200px" >皮肤毛发异常描述:</label>
                <div class="layui-input-inline">
                    <input type="text" name="haircontent" style="width: 300px"  lay-verify="title" disabled  autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
        <br>
    </div>
    <div style="border: 0.8px solid cornflowerblue"><p  style="background-color: rgb(214, 236, 246);font-size: 15px;color: #0074d9;text-align: left">甲状腺</p>
        <div class="layui-form-item" align="left">
            <div class="layui-input-block">
                <input type="radio" name="isthyroid" value="0" lay-filter="isjzx" checked title="正常" >
                <input type="radio" name="isthyroid"  value="1" lay-filter="isjzx" title="异常" >
            </div>
            <div class="layui-inline">
                <label class="layui-form-label"  style="width: 200px" >甲状腺异常描述:</label>
                <div class="layui-input-inline">
                    <input type="text" name="thyroidcontent" style="width: 300px"  lay-verify="title" disabled  autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
        <br>
    </div>

        <br>
        <div class="layui-form-item">
            <label class="layui-form-label">医生签名:</label>
            <div class="layui-input-inline">
                <input type="text" name="doctorname" style="width: 300px"  lay-verify="title"  autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">询问日期:</label>
            <div class="layui-input-block" >
                <input type="text" name="examinedate" id="date1" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div align="center">
            <button type="button" id="button" class="layui-btn layui-btn-normal">保存</button>
            <button type="reset" class="layui-btn layui-btn-normal">重置</button></div>

</form>
</div>
<script src="./layui/layui.js" charset="utf-8"></script>
<script src="./js/jquery-1.12.4.js" charset="utf-8"></script>

<script>

    layui.use(['form', 'layedit', 'laydate'], function(){
        var form = layui.form
                ,layer = layui.layer
                ,layedit = layui.layedit
                ,laydate = layui.laydate;

        //日期
        laydate.render({
            elem: '#date'
        });
        laydate.render({
            elem: '#date1'
        });
        $("#button").click(function() {
            var sex=$("#sex").val("0");
            $.ajax({
                url:"/Physicalexmination/get",
                type:"post",
                data:$("#form").serialize(),
                dataType:"text",
                success:function(result){
                    if(result=='no'){
                        $.ajax({
                            url:"/Physicalexmination/addhealthcheck",
                            type:"post",
                            data:$("#form").serialize(),
                            dataType:"text",
                            success:function(result){
                                if(result=='a'){
                                    layer.msg("保存成功!",{time:3000,icon:1})
                                }else{
                                    layer.msg("保存失败!",{icon:2})
                                }
                            }
                        });
                    }else{
                        $.ajax({
                            url:"/Physicalexmination/updatehealthcheck",
                            type:"post",
                            data:$("#form").serialize(),
                            dataType:"text",
                            success:function(result){
                                if(result=='a'){
                                    layer.msg("保存成功!",{time:3000,icon:1})
                                }else{
                                    layer.msg("保存失败!",{icon:2})
                                }
                            }
                        });
                    }
                }
            });


        });
        $(document).ready(function(){
            var sex="0";
            $.ajax({
                url:"/Physicalexmination/get",
                type:"post",
                data:{"sex":sex},
                dataType:"text",
                success:function(result){
                    if(result=='no'){
                        $.ajax({
                            url:"/Physicalexmination/getuserinfo",
                            type:"post",
                            data:{"sex":sex},
                            dataType:"json",
                            success:function(result){
                                form.val("check",result);
                            }
                        });
                    }else{
                        $.ajax({
                            url:"/Physicalexmination/getpysicale",
                            type:"post",
                            data:{"sex":sex},
                            dataType:"json",
                            success:function(result){
                                if(result.sex==0){
                                    result.sex="女";
                                    form.val("check",result);
                                }
                            }
                        });
                    }


                }
            });

        })
        form.on("radio(ishaving)", function (data) {
            if (this.value==='0') {
                $("input[name='spiritcontent']").attr("disabled",true);
                $("input[name='spiritcontent']").val("");
            } else{
                $("input[name='spiritcontent']").attr("disabled",false);
            }
        });
        form.on("radio(iswuguan)", function (data) {
            if (this.value==='0') {
                $("input[name='thefivecontent']").attr("disabled",true);
                $("input[name='thefivecontent']").val("");
            } else{
                $("input[name='thefivecontent']").attr("disabled",false);
            }
        });
        form.on("radio(istitai)", function (data) {
            if (this.value==='0') {
                $("input[name='posturecontent']").attr("disabled",true);
                $("input[name='posturecontent']").val("");
            } else{
                $("input[name='posturecontent']").attr("disabled",false);
            }
        });
        form.on("radio(ismianro)", function (data) {
            if (this.value==='0') {
                $("input[name='facecontent']").attr("disabled",true);
                $("input[name='facecontent']").val("");
            } else{
                $("input[name='facecontent']").attr("disabled",false);
            }
        });
        form.on("radio(ispifu)", function (data) {
            if (this.value==='0') {
                $("input[name='haircontent']").attr("disabled",true);
                $("input[name='haircontent']").val("");
            } else{
                $("input[name='haircontent']").attr("disabled",false);
            }
        });
        form.on("radio(isjzx)", function (data) {
            if (this.value==='0') {
                $("input[name='thyroidcontent']").attr("disabled",true);
                $("input[name='thyroidcontent']").val("");
            } else{
                $("input[name='thyroidcontent']").attr("disabled",false);
            }
        });
    });

</script>
</body>
</html>